# 7. Редактирование и просмотр файлов

Есть несколько способов отредактировать файл. Одним из наиболее распространенных текстовых редакторов для этого является Vi и Vim. Реже есть редактор Nano. Сначала мы разберемся с редактором Nano, так как он немного проще для понимания. Мы можем создать новый файл напрямую с помощью редактора Nano, указав имя файла непосредственно в качестве первого параметра. В этом случае мы создаем новый файл с именем notes.txt.
```
the29a@host[~]$ nano notes.txt
```
Теперь мы должны увидеть открытый так называемый «пейджер», и мы можем свободно вводить или вставлять любой текст. Тогда наша оболочка должна выглядеть примерно так.
```
Nano Editor

  GNU nano 2.9.3                                    notes.txt                                              

Here we can type everything we want and make our notes.▓


^G Get Help    ^O Write Out   ^W Where Is    ^K Cut Text    ^J Justify     ^C Cur Pos     M-U Undo
^X Exit        ^R Read File   ^\ Replace     ^U Uncut Text  ^T To Spell    ^_ Go To Line  M-E Redo
```
Ниже мы видим две строчки с краткими описаниями. Каретка (^) означает нашу клавишу «[CTRL]». Например, если мы нажмем [CTRL + W], в нижней части редактора появится строка «Поиск:», где мы можем ввести слово или слова, которые ищем. Если теперь мы ищем слово «мы» и нажимаем [ENTER], курсор переместится к первому совпадающему слову.

Здесь мы можем вводить все, что хотим, и делать заметки.
```
search:   notes                                                                                            
^G Get Help    M-C Case Sens  M-B Backwards  M-J FullJstify ^W Beg of Par  ^Y First Line  ^P PrevHstory
^C Cancel      M-R Regexp     ^R Replace     ^T Go To Line  ^O End of Par  ^V Last Line   ^N NextHstory

Чтобы перейти к следующему совпадению с курсором, мы снова нажимаем [CTRL + W] и подтверждаем нажатием [ENTER] без дополнительной информации.
```
NU nano 2.9.3                                    notes.txt                                              

Here we can type everything we want and make our notes.

Search [we]:                                                                                               
^G Get Help    M-C Case Sens  M-B Backwards  M-J FullJstify ^W Beg of Par  ^Y First Line  ^P PrevHstory
^C Cancel      M-R Regexp     ^R Replace     ^T Go To Line  ^O End of Par  ^V Last Line   ^N NextHstory
```
Теперь мы можем сохранить файл, нажав [CTRL + O] и подтвердив имя файла нажатием [ENTER].

После того, как мы сохранили файл, мы можем выйти из редактора, нажав [CTRL + X].

Назад в шелл


Чтобы просмотреть содержимое файла, мы можем использовать команды cat, tail, head.
```
the29a@host[~]$ cat notes.txt
```
В системах Linux есть много файлов, которые могут сыграть важную роль. Такие файлы могут включать файл "/etc/passwd".

Для вывода только начальных или только последних строк большого текстового файла можно использовать утилите head и tail.
На примере файла passwd посмотрим их работу.
```
the29a@host[~]$ head /etc/passwd
the29a@host[~]$ tail /etc/passwd
```
По умолчанию показывается 10 строк. Это количество можно указывать:
```
the29a@host[~]$$ head -3 /etc/passwd
the29a@host[~]$ tail -5 /etc/passwd
```
VIM

Vim - это редактор с открытым исходным кодом для всех видов текста ASCII, как и Nano. Это улучшенный клон предыдущей версии Vi. Это чрезвычайно мощный редактор, который фокусируется на самом главном, а именно на редактировании текста. Для задач, выходящих за рамки этого, Vim предоставляет интерфейс для внешних программ, таких как grep, awk, sed и т. Д., Которые могут справляться со своими конкретными задачами намного лучше, чем соответствующая функция, обычно реализованная непосредственно в редакторе. Это делает редактор маленьким и компактным, быстрым, мощным, гибким и менее подверженным ошибкам.

Здесь Vim следует принципу Unix: множество небольших специализированных программ, которые хорошо протестированы и проверены, когда они объединяются и взаимодействуют друг с другом, в результате получается гибкая и мощная система.
```
the29a@host[~]$ vim
```
В отличие от Nano, Vim - это модальный редактор, который может различать ввод текста и команд. Vim предлагает шесть основных режимов, которые упрощают нашу работу и делают этот редактор настолько мощным:
Режим Описание
Нормальный - В нормальном режиме все входные данные рассматриваются как команды редактора. Таким образом, не происходит вставки введенных символов в буфер редактора, как в случае с большинством других редакторов. После запуска редактора мы обычно в нормальном режиме.
Режим вставки - За некоторыми исключениями все введенные символы вставляются в буфер.
Визуальный - Визуальный режим используется для обозначения непрерывной части текста, которая будет визуально выделена. Помещая курсор, мы меняем выделенную область. Затем выделенную область можно редактировать различными способами, например удалять, копировать или заменять.
Командный - Это позволяет нам вводить однострочные команды в нижней части редактора. Это можно использовать, например, для сортировки, замены текстовых разделов или их удаления.
Замены - В режиме замены вновь введенный текст перезапишет существующие текстовые символы, если в текущей позиции курсора не останется старых символов. Затем будет добавлен вновь введенный текст.

Когда у нас открыт редактор Vim, мы можем перейти в командный режим, набрав «:», а затем «q», чтобы закрыть Vim.

Vim предлагает отличную возможность под названием vimtutor попрактиковаться и познакомиться с редактором. Поначалу это может показаться очень трудным и сложным, но будет казаться таким только на короткое время. Когда мы привыкаем к нему, эффективность, которую мы получаем от Vim, огромна.

the29a@host[~]$ vimtutor