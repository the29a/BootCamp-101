# 22. Работа с веб-службами

Другой важный компонент - это связь с веб-серверами. Есть много разных способов настроить веб-серверы в операционных системах Linux. Одним из самых используемых и распространенных веб-серверов, помимо IIS и Nginx, является Apache. Для веб-сервера Apache мы можем использовать соответствующие модули, которые могут шифровать связь между браузером и веб-сервером (mod_ssl), использовать в качестве прокси-сервера (mod_proxy) или выполнять сложные манипуляции с данными заголовка HTTP (mod_headers) и URL-адресами (mod_rewrite).

Apache предлагает возможность динамически создавать веб-страницы с использованием языков сценариев на стороне сервера. Обычно используемые языки сценариев - PHP, Perl или Ruby. Другие языки - Python, JavaScript, Lua и .NET, которые можно использовать для этого.

Мы можем установить веб-сервер Apache с помощью следующей команды.
```
the29a@host[~]$ apt install apache2 -y
```
После того, как мы его запустили, мы сможем перейти с помощью вашего браузера на страницу по умолчанию. (http://localhost).

Это страница по умолчанию после установки, которая служит для подтверждения правильной работы веб-сервера.

cURL
---
cURL - это инструмент, который позволяет нам передавать файлы из оболочки по таким протоколам, как HTTP, HTTPS, FTP, SFTP, FTPS или SCP. Этот инструмент дает нам возможность удаленно контролировать и тестировать веб-сайты. Помимо содержимого удаленных серверов, мы также можем просматривать отдельные запросы, чтобы посмотреть на взаимодействие клиента и сервера. Обычно cURL уже установлен в большинстве систем Linux.

Это еще одна важная причина для ознакомления с этим инструментом, поскольку он может значительно упростить некоторые процессы в дальнейшем.
```
the29a@host[~]$ curl http://localhost

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
```
В теге заголовка мы видим, что это тот же текст, что и в нашем браузере. Это позволяет нам проверять исходный код веб-сайта и получать от него информацию. 

Wget
---
Альтернативой curl является инструмент wget. С помощью этого инструмента мы можем загружать файлы с FTP- или HTTP-серверов прямо с терминала и служит хорошим менеджером загрузки. Если мы используем wget таким же образом, отличие от curl в том, что контент веб-сайта загружается и хранится локально, как показано в следующем примере.
```
the29a@host[~]$ wget http://localhost
--2020-05-15 17:43:52--  http://localhost/
Resolving localhost (localhost)... 127.0.0.1
Connecting to localhost (localhost)|127.0.0.1|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 10918 (11K) [text/html]
Saving to: 'index.html'

index.html                 100%[=======================================>]  10,66K  --.-KB/s    in 0s      

2020-05-15 17:43:52 (33,0 MB/s) - ‘index.html’ saved [10918/10918]
```
Python 3
---
Другой вариант, который часто используется при передаче данных, - это использование Python 3. В этом случае корневой каталог веб-сервера - это место, где выполняется команда для запуска сервера. В этом примере мы находимся в каталоге, где установлен WordPress и содержит «readme.html». Теперь давайте запустим веб-сервер Python 3 и посмотрим, сможем ли мы получить к нему доступ с помощью браузера.
```
the29a@host[~]$ python3 -m http.server

Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
```
PHP
---
Начиная с PHP 5.4.0, модуль CLI SAPI содержит встроенный веб-сервер.

Веб-сервер выполняет только один однопоточный процесс, поэтому приложения PHP будут останавливаться, если запрос заблокирован. 
```
the29a@host[~]$  php -S localhost:8000
```